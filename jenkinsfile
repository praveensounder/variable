pipeline {
    agent any

    stages {
       stage('Terraform Plan') {
           steps {
    bat 'terraform init'
    bat 'terraform plan'
  }
       }

  stage ('Terraform Apply') {
      steps {
    bat 'terraform apply -auto-approve'
  }
  }
  
  
         stage('Test') {  
             steps {  
                 bat 'echo "Fail!"; exit 1' 
                  mail from: "praveensounder05@gmail.com",
                  to: "praveensounder98@gmail.com",
                 subject: "error",
             }  
         }  
   

  
    }
}
